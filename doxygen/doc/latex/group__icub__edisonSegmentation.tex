\section{edison\+Segmentation}
\label{group__icub__edisonSegmentation}\index{edison\+Segmentation@{edison\+Segmentation}}


Wrapper to the The E\+D\+I\+S\+O\+N system\+: a low-\/level vision tool that performs confidence based edge detection and synergistic image segmentation.  


Wrapper to the The E\+D\+I\+S\+O\+N system\+: a low-\/level vision tool that performs confidence based edge detection and synergistic image segmentation. 

\hypertarget{group__icub__graphbasedSegmentation_intro_sec}{}\subsection{Description}\label{group__icub__graphbasedSegmentation_intro_sec}
This module wraps around some functions of the E\+D\+I\+S\+O\+N system from the robust image understanding laboratory at Rutgers University.

The purpose of the module is to obtain good segmentation of color images. The image is split into regions corresponding to uniformly colored patches.

Details on the employed algorithms is provided in the following paper\+: \mbox{[}1\mbox{]} D. Comaniciu, P. Meer\+: \char`\"{}\+Mean shift\+: A robust approach toward feature space analysis\char`\"{}. I\+E\+E\+E Trans. Pattern Anal. Machine Intell., May 2002.

\mbox{[}2\mbox{]} P. Meer, B. Georgescu\+: \char`\"{}\+Edge detection with embedded confidence\char`\"{}. I\+E\+E\+E Trans. Pattern Anal. Machine Intell., 28, 2001.

\mbox{[}3\mbox{]} C. Christoudias, B. Georgescu, P. Meer\+: \char`\"{}\+Synergism in low level vision\char`\"{}. 16th International Conference of Pattern Recognition, Track 1 -\/ Computer Vision and Robotics, Quebec City, Canada, August 2001.

The edison source files are provided as a library in the edisonlib folder.

Some changes to these files had to be made in order to obtain the desired functionality. These include changes in function Get\+Regions in \hyperlink{msImageProcessor_8cpp_source}{ms\+Image\+Processor.\+cpp}\hypertarget{group__icub__graphbasedSegmentation_lib_sec}{}\subsection{Libraries}\label{group__icub__graphbasedSegmentation_lib_sec}
Y\+A\+R\+P library Open\+C\+V library\hypertarget{group__icub__graphbasedSegmentation_parameters_sec}{}\subsection{Parameters}\label{group__icub__graphbasedSegmentation_parameters_sec}
width, height -\/ Dimension of the images to be processed. This may differ from the dimension of the input images. Forcing a smaller dimension will save computation power at the cost of resolution. Values larger that the input image dimension will be discarded. These parameters do no influence the dimension of the output. This is always the same as the input dimension. Default\+: the size of the original image.

sigma\+S -\/ The spatial bandwidth (neighborhood in the pixel domain). Default\+: 7

sigma\+R -\/ The color bandwidth (neighborhood in the color color domain). Default\+: 6.\+5

minregion -\/ The minimal area for segmented regions (in pixels) Default\+: 20.\+0

grad\+Win\+Rad -\/ The radius of the window used for the computation of the gradient and confidence map (positive integer). Default\+: 2.\+0

threshold -\/ edge strength threshold (must be in the interval \mbox{[}0,1\mbox{]}) Default\+: 0.\+3

mixture -\/ mixture parameter (must be in the interval \mbox{[}0,1\mbox{]}) Default\+: 0.\+2

speedup -\/ accelerate computation by doing some approximations. Possible values 0 (N\+O\+\_\+\+S\+P\+E\+E\+D\+U\+P), 1 (M\+E\+D\+\_\+\+S\+P\+E\+E\+D\+U\+P), 2 (H\+I\+G\+H\+\_\+\+S\+P\+E\+E\+D\+U\+P) Default\+: M\+E\+D\+\_\+\+S\+P\+E\+E\+D\+U\+P

The best results have been obtained with M\+E\+D\+\_\+\+S\+P\+E\+E\+D\+U\+P\hypertarget{group__icub__graphbasedSegmentation_portsa_sec}{}\subsection{Ports Accessed}\label{group__icub__graphbasedSegmentation_portsa_sec}
Port with raw R\+G\+B image.\hypertarget{group__icub__graphbasedSegmentation_portsc_sec}{}\subsection{Ports Created}\label{group__icub__graphbasedSegmentation_portsc_sec}
/conf for module configuration, according to E\+D\+I\+S\+O\+Nsegmentation.\+thrift definition file

/raw\+Img\+:i receive the original R\+G\+B image to segment

/raw\+Img\+:o output the original R\+G\+B image

/labeled\+Img\+:o segmented image with the labels (Pixel\+Int)

/view\+Img\+:o segmented image with the colors models for each region (good to visualize)\hypertarget{group__icub__graphbasedSegmentation_in_files_sec}{}\subsection{Input Data Files}\label{group__icub__graphbasedSegmentation_in_files_sec}
None\hypertarget{group__icub__graphbasedSegmentation_out_data_sec}{}\subsection{Output Data Files}\label{group__icub__graphbasedSegmentation_out_data_sec}
None\hypertarget{group__icub__graphbasedSegmentation_conf_file_sec}{}\subsection{Configuration Files}\label{group__icub__graphbasedSegmentation_conf_file_sec}
Parameters can be put in a configuration file. Default configuration file name is edison\+Config.\+ini An example configuration file is provided in the source folder (config\+File.\+ini), containing the following\+: 
\begin{DoxyCode}
height 120
width 160
dim 3
sigmaS 10       
sigmaR 18       
minRegion 50  
gradWindRad  2 
threshold  1 
mixture  1  
speedup 1
\end{DoxyCode}
\hypertarget{group__icub__graphbasedSegmentation_tested_os_sec}{}\subsection{Tested O\+S}\label{group__icub__graphbasedSegmentation_tested_os_sec}
Linux and Windows.\hypertarget{group__icub__graphbasedSegmentation_example_sec}{}\subsection{Example Instantiation of the Module}\label{group__icub__graphbasedSegmentation_example_sec}

\begin{DoxyCode}
yarp server
edisonSegmentation.exe --from configFile.ini
yarpdev --device opencv\_grabber --movie H:\(\backslash\)DataSets\(\backslash\)testImages2009\_07\_21\(\backslash\)segm\_test\_icub.avi --loop --
      framerate 0.1
yarpview /raw
yarpview /view
yarp connect /grabber /edisonSegm/rawImg:i
yarp connect /edisonSegm/rawImg:o /raw
yarp connect /edisonSegm/viewImg:o /view
\end{DoxyCode}


\begin{DoxyAuthor}{Author}
Alexandre Bernardino, Elena Ceseracciu (improved module version)
\end{DoxyAuthor}
Copyright (C) 2008 Robot\+Cub Consortium

Copy\+Policy\+: Released under the terms of the G\+N\+U G\+P\+L v2.\+0.

This file can be edited at src/edison\+Segmentation/main.\+cpp. 